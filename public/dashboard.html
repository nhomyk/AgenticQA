<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>orbitQA.ai Dashboard - Agent Control & Pipeline Monitor</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1a1a2e 100%);
            color: #e0e7ff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Navigation */
        .navbar {
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(102, 126, 234, 0.2);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
        }

        .nav-links a,
        .nav-links button {
            color: #a5b4fc;
            text-decoration: none;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            display: inline-block;
            background: none;
            border: none;
            cursor: pointer;
        }

        .nav-links a:hover,
        .nav-links a.active,
        .nav-links button:hover,
        .nav-links button.active {
            color: #667eea;
            font-weight: 600;
        }

        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Page Header */
        .page-header {
            margin-bottom: 2rem;
        }

        .page-header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .page-header p {
            color: #a5b4fc;
            font-size: 1rem;
        }

        /* Grid Layout */
        .dashboard-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        @media (max-width: 1200px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Cards */
        .card {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border: 1px solid rgba(102, 126, 234, 0.3);
            border-radius: 12px;
            padding: 1.5rem;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .card:hover {
            border-color: rgba(102, 126, 234, 0.6);
            transform: translateY(-2px);
            box-shadow: 0 20px 40px rgba(102, 126, 234, 0.1);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            border-bottom: 1px solid rgba(102, 126, 234, 0.2);
            padding-bottom: 1rem;
        }

        .card-title {
            font-size: 1.25rem;
            font-weight: 600;
        }

        .card-icon {
            font-size: 1.5rem;
        }

        /* Agent Control Section */
        .agent-controls {
            display: grid;
            gap: 1rem;
        }

        .agent-card {
            background: rgba(30, 30, 46, 0.7);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 10px;
            padding: 1rem;
            transition: all 0.3s ease;
        }

        .agent-card:hover {
            border-color: rgba(102, 126, 234, 0.5);
            background: rgba(30, 30, 46, 0.9);
        }

        .agent-name {
            font-weight: 600;
            color: #667eea;
            margin-bottom: 0.5rem;
        }

        .agent-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            margin-bottom: 0.75rem;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #10b981;
            animation: pulse 2s infinite;
        }

        .status-dot.offline {
            background: #ef4444;
            animation: none;
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
        }

        /* Input Section */
        .query-input-group {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .query-input-group label {
            font-size: 0.85rem;
            color: #a5b4fc;
            font-weight: 500;
        }

        .query-input-group input,
        .query-input-group textarea,
        .query-input-group select {
            background: rgba(30, 30, 46, 0.8);
            border: 1px solid rgba(102, 126, 234, 0.3);
            border-radius: 8px;
            padding: 0.75rem;
            color: #e0e7ff;
            font-family: inherit;
            font-size: 0.95rem;
            transition: all 0.3s ease;
        }

        .query-input-group input:focus,
        .query-input-group textarea:focus,
        .query-input-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .query-input-group textarea {
            resize: vertical;
            min-height: 80px;
            font-family: 'Monaco', 'Menlo', 'Courier New', monospace;
        }

        /* Buttons */
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            justify-content: center;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 100%;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        .btn-secondary {
            background: rgba(102, 126, 234, 0.2);
            color: #667eea;
            border: 1px solid rgba(102, 126, 234, 0.4);
        }

        .btn-secondary:hover {
            background: rgba(102, 126, 234, 0.3);
            border-color: rgba(102, 126, 234, 0.6);
        }

        .btn-small {
            padding: 0.5rem 1rem;
            font-size: 0.85rem;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Metrics Grid */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .metric {
            background: rgba(30, 30, 46, 0.7);
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
        }

        .metric-value {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .metric-label {
            font-size: 0.85rem;
            color: #a5b4fc;
            margin-top: 0.25rem;
        }

        /* Pipelines List */
        .pipelines-list {
            max-height: 600px;
            overflow-y: auto;
            display: grid;
            gap: 0.75rem;
        }

        .pipeline-item {
            background: rgba(30, 30, 46, 0.7);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 8px;
            padding: 1rem;
            display: grid;
            grid-template-columns: auto 1fr auto;
            align-items: center;
            gap: 1rem;
            transition: all 0.3s ease;
        }

        .pipeline-item:hover {
            border-color: rgba(102, 126, 234, 0.5);
            background: rgba(30, 30, 46, 0.9);
        }

        .pipeline-status {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .pipeline-status.success {
            background: #10b981;
            box-shadow: 0 0 8px rgba(16, 185, 129, 0.5);
        }

        .pipeline-status.running {
            background: #f59e0b;
            animation: pulse 1s infinite;
        }

        .pipeline-status.failed {
            background: #ef4444;
        }

        .pipeline-info {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .pipeline-name {
            font-weight: 600;
            color: #667eea;
        }

        .pipeline-meta {
            font-size: 0.8rem;
            color: #a5b4fc;
        }

        .pipeline-time {
            font-size: 0.8rem;
            color: #a5b4fc;
            text-align: right;
        }

        /* Scrollbar Styling */
        .pipelines-list::-webkit-scrollbar {
            width: 6px;
        }

        .pipelines-list::-webkit-scrollbar-track {
            background: rgba(102, 126, 234, 0.1);
            border-radius: 10px;
        }

        .pipelines-list::-webkit-scrollbar-thumb {
            background: rgba(102, 126, 234, 0.3);
            border-radius: 10px;
        }

        .pipelines-list::-webkit-scrollbar-thumb:hover {
            background: rgba(102, 126, 234, 0.5);
        }

        /* Pipeline Modules - Professional Flow Diagram */
        .pipeline-modules {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .module {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 12px;
            padding: 1.2rem 1rem;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .module::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
        }

        .module:hover {
            transform: translateY(-8px);
            border-color: #667eea;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.15) 0%, rgba(139, 92, 246, 0.15) 100%);
            box-shadow: 0 12px 28px rgba(102, 126, 234, 0.25);
        }

        .module-icon {
            font-size: 2.2rem;
            margin-bottom: 0.5rem;
            display: block;
        }

        .module-name {
            font-weight: 700;
            color: #a5b4fc;
            font-size: 0.85rem;
            margin-bottom: 0.4rem;
            letter-spacing: 0.3px;
        }

        .module-description {
            font-size: 0.75rem;
            color: #7c8dff;
            line-height: 1.3;
            min-height: 2.4rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .module-step {
            position: absolute;
            top: 0;
            right: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 0 12px 0 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.8rem;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        }

        .pipeline-flow-info {
            background: rgba(102, 126, 234, 0.05);
            border-left: 3px solid #667eea;
            padding: 1.2rem;
            border-radius: 8px;
            margin-top: 1.5rem;
            font-size: 0.9rem;
            color: #a5b4fc;
            line-height: 1.7;
        }

        .pipeline-flow-info strong {
            color: #667eea;
            font-weight: 700;
        }

        .pipeline-flow-info em {
            color: #764ba2;
            font-style: italic;
        }

        /* Compliance & Accessibility Section */
        .compliance-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }

        .compliance-item {
            background: rgba(30, 30, 46, 0.7);
            border-radius: 8px;
            padding: 1rem;
        }

        .compliance-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.75rem;
        }

        .compliance-score {
            font-size: 1.5rem;
            font-weight: 700;
            color: #10b981;
        }

        .compliance-label {
            font-size: 0.9rem;
            color: #a5b4fc;
        }

        .compliance-details {
            font-size: 0.8rem;
            color: #667eea;
            margin-top: 0.5rem;
        }

        /* Modal Styling */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            backdrop-filter: blur(4px);
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(30, 30, 46, 0.95) 0%, rgba(25, 25, 40, 0.95) 100%);
            border: 1px solid rgba(102, 126, 234, 0.4);
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6), 0 0 40px rgba(102, 126, 234, 0.2);
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            animation: slideUp 0.3s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1.5rem;
            border-bottom: 1px solid rgba(102, 126, 234, 0.2);
        }

        .modal-header h2 {
            font-size: 1.25rem;
            color: #fbbf24;
            margin: 0;
        }

        .modal-close {
            background: none;
            border: none;
            color: #a5b4fc;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            transition: all 0.2s ease;
        }

        .modal-close:hover {
            background: rgba(102, 126, 234, 0.2);
            color: #667eea;
        }

        .modal-body {
            padding: 1.5rem;
            color: #e0e7ff;
        }

        .modal-body p {
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .modal-body ul {
            margin: 1rem 0;
            padding-left: 1.5rem;
            list-style: none;
        }

        .modal-body ul li {
            margin-bottom: 0.5rem;
            color: #a5b4fc;
        }

        .modal-footer {
            display: flex;
            gap: 1rem;
            padding: 1.5rem;
            border-top: 1px solid rgba(102, 126, 234, 0.2);
            justify-content: flex-end;
        }

        .btn-danger {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
        }

        .btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(239, 68, 68, 0.3);
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 4px;
            height: 4px;
            background: #667eea;
            border-radius: 50%;
            animation: loading 1.4s infinite;
        }

        @keyframes loading {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.3;
            }
        }

        /* Response Panel */
        .response-panel {
            background: rgba(30, 30, 46, 0.7);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 8px;
            padding: 1rem;
            max-height: 250px;
            overflow-y: auto;
            font-family: 'Monaco', 'Menlo', 'Courier New', monospace;
            font-size: 0.85rem;
            color: #a5b4fc;
            display: none;
        }

        .response-panel.active {
            display: block;
        }

        .response-panel-title {
            color: #667eea;
            font-weight: 600;
            margin-bottom: 0.75rem;
            border-bottom: 1px solid rgba(102, 126, 234, 0.2);
            padding-bottom: 0.5rem;
        }

        /* Pipeline Kickoff Modal-like */
        .kickoff-section {
            background: rgba(102, 126, 234, 0.05);
            border: 1px solid rgba(102, 126, 234, 0.3);
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .kickoff-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #667eea;
        }

        /* Success/Error Messages */
        .alert {
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            display: none;
        }

        .alert.show {
            display: block;
        }

        .alert-success {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
            color: #10b981;
        }

        .alert-error {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: #ef4444;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .page-header h1 {
                font-size: 1.8rem;
            }

            .nav-links {
                gap: 1rem;
                font-size: 0.85rem;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .metrics-grid {
                grid-template-columns: 1fr;
            }

            .compliance-grid {
                grid-template-columns: 1fr;
            }

            .pipeline-item {
                grid-template-columns: auto 1fr;
            }

            .pipeline-time {
                grid-column: 2;
                text-align: left;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">ü§ñ orbitQA.ai</div>
            <ul class="nav-links">
                <li><a href="/index.html">Home</a></li>
                <li><a href="/index.html#features">Features</a></li>
                <li><a href="/dashboard.html" class="active">üìä Dashboard</a></li>
                <li><button onclick="window.location.href='/settings.html'" style="font-size: 1.1rem;">‚öôÔ∏è</button></li>
            </ul>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="container">
        <!-- Page Header -->
        <div class="page-header">
            <h1>Agent Control Center</h1>
            <p>Monitor pipeline health, interact with autonomous agents, and manage CI/CD operations</p>
        </div>

        <!-- Workflow Pipeline Diagram -->
        <div class="card" style="margin-bottom: 2rem; background: rgba(31, 41, 55, 0.8); border: 1px solid rgba(102, 126, 234, 0.3);">
            <div class="card-header">
                <span class="card-icon" aria-hidden="true">üèóÔ∏è</span>
                <h2 class="card-title">Autonomous Orchestration Pipeline</h2>
            </div>

            <!-- Professional Module Flow -->
            <div style="padding: 0 1.5rem;">
                <div class="pipeline-modules">
                    <div class="module">
                        <div class="module-step">-1</div>
                        <div class="module-icon">üö®</div>
                        <div class="module-name">RESCUE</div>
                        <div class="module-description">YAML validation & circuit breaker</div>
                    </div>
                    <div class="module">
                        <div class="module-step">0</div>
                        <div class="module-icon">üîß</div>
                        <div class="module-name">LINTING</div>
                        <div class="module-description">Auto-fix linting issues</div>
                    </div>
                    <div class="module">
                        <div class="module-step">1</div>
                        <div class="module-icon">üß™</div>
                        <div class="module-name">TESTING</div>
                        <div class="module-description">Parallel test execution</div>
                    </div>
                    <div class="module">
                        <div class="module-step">1‚Üí2</div>
                        <div class="module-icon">üìä</div>
                        <div class="module-name">ANALYSIS</div>
                        <div class="module-description">Agent intelligence layer</div>
                    </div>
                    <div class="module">
                        <div class="module-step">2</div>
                        <div class="module-icon">ü§ñ</div>
                        <div class="module-name">FIX</div>
                        <div class="module-description">Intelligent code fixes</div>
                    </div>
                    <div class="module">
                        <div class="module-step">3</div>
                        <div class="module-icon">üöÄ</div>
                        <div class="module-name">SRE</div>
                        <div class="module-description">Infrastructure validation</div>
                    </div>
                    <div class="module">
                        <div class="module-step">4</div>
                        <div class="module-icon">üõ°Ô∏è</div>
                        <div class="module-name">SAFEGUARDS</div>
                        <div class="module-description">Enterprise protection</div>
                    </div>
                    <div class="module">
                        <div class="module-step">‚úì</div>
                        <div class="module-icon">üè•</div>
                        <div class="module-name">FINAL</div>
                        <div class="module-description">Verification & success</div>
                    </div>
                </div>

                <div class="pipeline-flow-info">
                    <strong>üéØ Pipeline Execution Flow:</strong><br/>
                    <em>Phase -1:</em> Prevents infinite loops with YAML validation<br/>
                    <em>Phase 0:</em> Auto-fixes prevent cascading test failures<br/>
                    <em>Phase 1:</em> Jest ‚Ä¢ Vitest ‚Ä¢ Playwright ‚Ä¢ Cypress ‚Ä¢ Pa11y ‚Ä¢ Security (parallel)<br/>
                    <em>Phase 1‚Üí2:</em> SDET & Compliance agents analyze results concurrently<br/>
                    <em>Phase 2:</em> Fullstack agent applies intelligent fixes<br/>
                    <em>Phase 3:</em> SRE validates production readiness<br/>
                    <em>Phase 4:</em> Safeguards apply file protection & governance<br/>
                    <em>Final:</em> Health verification & loop detection
                </div>
            </div>
        </div>

        <!-- Alert Messages -->
        <div id="successAlert" class="alert alert-success"></div>
        <div id="errorAlert" class="alert alert-error"></div>

        <!-- Main Dashboard Grid -->
        <div class="dashboard-grid">
            <!-- Left Column: Agent Control & Pipeline Kickoff -->
            <div>
                <!-- Pipeline Kickoff Section -->
                <div class="card kickoff-section">
                    <div class="card-header">
                        <span class="card-icon" aria-hidden="true">üöÄ</span>
                        <h2 class="card-title">Kickoff New Pipeline</h2>
                    </div>
                    <div class="query-input-group">
                        <label for="pipelineType">Pipeline Type</label>
                        <select id="pipelineType" tabindex="0" aria-label="Select pipeline type">
                            <option value="full">Full CI/CD Pipeline (10 phases with safeguards)</option>
                            <option value="tests">Tests Only</option>
                            <option value="security">Security Scan</option>
                            <option value="accessibility">Accessibility Check</option>
                            <option value="compliance">Compliance Audit</option>
                            <option value="safeguards">Safeguards Validation Only</option>
                        </select>
                    </div>
                    <div class="query-input-group">
                        <label for="pipelineBranch">Branch <span style="color: #ef4444;">*</span></label>
                        <select id="pipelineBranch" tabindex="0" aria-label="Git branch name">
                            <option value="main">main</option>
                            <option value="develop">develop</option>
                        </select>
                        <div class="form-help">Select the branch to trigger the pipeline on. Main branch requires approval.</div>
                    </div>
                    <div class="query-input-group">
                        <label for="pipelineName">Pipeline Name (Optional)</label>
                        <input type="text" id="pipelineName" placeholder="e.g., Bug Fix for Issue #123" tabindex="0" aria-label="Custom pipeline name" />
                        <div class="form-help">Leave blank to use default naming with pipeline type (e.g., "AgenticQA - Security Scan")</div>
                    </div>
                    <button class="btn btn-primary" id="launchPipelineBtn">
                        üöÄ Launch Pipeline
                    </button>
                </div>

                <!-- Agent Interaction Section -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon" aria-hidden="true">ü§ñ</span>
                        <h2 class="card-title">Agent Interaction</h2>
                    </div>

                    <!-- Agent Selection -->
                    <div class="query-input-group">
                        <label for="agentSelect">Select Agent</label>
                        <select id="agentSelect" onchange="updateAgentInfo()" tabindex="0" aria-label="Choose an autonomous agent">
                            <option value="sdet">üß™ SDET Agent (Test Automation)</option>
                            <option value="fullstack">üöÄ Fullstack Agent (E2E Testing)</option>
                            <option value="compliance">‚úÖ Compliance Agent (Audits)</option>
                            <option value="sre">üîß SRE Agent (Infrastructure)</option>
                            <option value="safeguards">üõ°Ô∏è Safeguards Agent (Protection & Governance)</option>
                        </select>
                    </div>

                    <!-- Agent Status Card -->
                    <div class="agent-card" id="agentStatusCard">
                        <div class="agent-name">SDET Agent</div>
                        <div class="agent-status">
                            <div class="status-dot"></div>
                            <span>Status: Online</span>
                        </div>
                        <div style="font-size: 0.85rem; color: #a5b4fc;">
                            Last Activity: <span id="lastActivity">2 minutes ago</span><br>
                            Health: <span id="agentHealth">‚úÖ Excellent</span>
                        </div>
                    </div>

                    <!-- Query Input -->
                    <div class="query-input-group" style="margin-top: 1rem;">
                        <label for="agentQuery">Ask Agent a Question</label>
                        <div style="display: grid; grid-template-columns: 1fr auto; gap: 0.5rem;">
                            <textarea id="agentQuery" placeholder="e.g., 'What is our current test coverage?' or 'Run accessibility checks on the dashboard'" tabindex="0" aria-label="Enter your query for the agent"></textarea>
                            <button class="btn btn-primary" onclick="showNotification('Send', 'This is how you converse directly with an agent, ask questions on the system or pipeline, system health, etc.'); queryAgent()" style="height: fit-content; padding: 0.75rem 1rem;">
                                üì® Send
                            </button>
                        </div>
                    </div>

                    <!-- Upload Data Section -->
                    <div class="query-input-group" style="margin-top: 1rem;">
                        <label>Upload Data</label>
                        <button class="btn btn-secondary" id="uploadDataBtn" style="width: 100%; padding: 0.75rem; border: 2px dashed rgba(102, 126, 234, 0.4); transition: all 0.3s ease;" onmouseover="this.style.borderColor='rgba(102, 126, 234, 0.8)'; this.style.backgroundColor='rgba(102, 126, 234, 0.1)'" onmouseout="this.style.borderColor='rgba(102, 126, 234, 0.4)'; this.style.backgroundColor='transparent'" onclick="showNotification('Upload Data', 'Upload any structured or unstructured data to make your agent smarter!')">
                            üì§ Upload Data
                        </button>
                    </div>

                    <!-- Quick Actions -->
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.75rem; margin-top: 1rem;">
                        <button class="btn btn-secondary btn-small" onclick="quickQuery('health')">
                            ‚ù§Ô∏è Health Check
                        </button>
                        <button class="btn btn-secondary btn-small" onclick="quickQuery('coverage')">
                            üìä Test Coverage
                        </button>
                        <button class="btn btn-secondary btn-small" onclick="quickQuery('compliance')">
                            ‚úÖ Compliance
                        </button>
                        <button class="btn btn-secondary btn-small" onclick="quickQuery('safeguards')">
                            üõ°Ô∏è Safeguards Status
                        </button>
                    </div>

                    <!-- Response Panel -->
                    <div class="response-panel" id="responsePanel">
                        <div class="response-panel-title">Agent Response</div>
                        <div id="responseContent"></div>
                    </div>
                </div>
            </div>

            <!-- Right Column: Metrics & Status -->
            <div>
                <!-- Health Metrics -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon" aria-hidden="true">üìà</span>
                        <h2 class="card-title">Health Metrics</h2>
                    </div>
                    <div class="metrics-grid">
                        <div class="metric">
                            <div class="metric-value">98%</div>
                            <div class="metric-label">Pipeline Success</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value">4.2s</div>
                            <div class="metric-label">Avg. Duration</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value">95%</div>
                            <div class="metric-label">Test Coverage</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value">‚úÖ</div>
                            <div class="metric-label">Safeguards: Active</div>
                        </div>
                    </div>
                </div>

                <!-- Compliance & Accessibility -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-icon" aria-hidden="true">üîí</span>
                        <h2 class="card-title">Compliance Status</h2>
                    </div>
                    <div class="compliance-grid">
                        <div class="compliance-item">
                            <div class="compliance-header">
                                <div class="compliance-score">100%</div>
                                <div>
                                    <div class="compliance-label">WCAG 2.1</div>
                                    <div class="compliance-details">Accessibility</div>
                                </div>
                            </div>
                        </div>
                        <div class="compliance-item">
                            <div class="compliance-header">
                                <div class="compliance-score">175</div>
                                <div>
                                    <div class="compliance-label">Security Checks</div>
                                    <div class="compliance-details">Passed ‚úÖ</div>
                                </div>
                            </div>
                        </div>
                        <div class="compliance-item">
                            <div class="compliance-header">
                                <div class="compliance-score">98%</div>
                                <div>
                                    <div class="compliance-label">Code Quality</div>
                                    <div class="compliance-details">Excellent</div>
                                </div>
                            </div>
                        </div>
                        <div class="compliance-item">
                            <div class="compliance-header">
                                <div class="compliance-score">0.12</div>
                                <div>
                                    <div class="compliance-label">Avg. Risk Score</div>
                                    <div class="compliance-details">Low Risk</div>
                                </div>
                            </div>
                        </div>
                        <div class="compliance-item">
                            <div class="compliance-header">
                                <div class="compliance-score">‚úÖ</div>
                                <div>
                                    <div class="compliance-label">SOC2/GDPR/HIPAA</div>
                                    <div class="compliance-details">Audit Ready</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Recent Pipelines Section -->
        <div class="card">
            <div class="card-header">
                <span class="card-icon" aria-hidden="true">üìã</span>
                <h2 class="card-title">Recent Pipelines (Last 20)</h2>
            </div>
            <div class="pipelines-list" id="pipelinesList">
                <div style="text-align: center; color: #a5b4fc; padding: 2rem;">
                    <div class="loading"></div>
                    <p style="margin-top: 1rem;">Loading pipeline data...</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            loadAvailableBranches();
            loadRecentPipelines();
            updateAgentInfo();
            setupUploadDragDrop();
            // Refresh pipelines every 30 seconds
            setInterval(loadRecentPipelines, 30000);
        });

        // Setup drag/drop visual feedback for upload button (UI only)
        function setupUploadDragDrop() {
            const uploadBtn = document.getElementById('uploadDataBtn');
            
            uploadBtn.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadBtn.style.borderColor = 'rgba(102, 126, 234, 1)';
                uploadBtn.style.backgroundColor = 'rgba(102, 126, 234, 0.2)';
                uploadBtn.style.transform = 'scale(1.02)';
            });
            
            uploadBtn.addEventListener('dragleave', () => {
                uploadBtn.style.borderColor = 'rgba(102, 126, 234, 0.4)';
                uploadBtn.style.backgroundColor = 'transparent';
                uploadBtn.style.transform = 'scale(1)';
            });
            
            uploadBtn.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadBtn.style.borderColor = 'rgba(102, 126, 234, 0.4)';
                uploadBtn.style.backgroundColor = 'transparent';
                uploadBtn.style.transform = 'scale(1)';
                showNotification('Upload Data', 'Upload any structured or unstructured data to make your agent smarter!');
            });
        }

        // Load recent pipelines from GitHub API (with fallback mock data)
        async function loadRecentPipelines() {
            try {
                const pipelinesList = document.getElementById('pipelinesList');
                pipelinesList.innerHTML = '<div style="text-align: center; color: #a5b4fc; padding: 2rem;">Loading pipeline data...</div>';
                
                const response = await fetch('https://api.github.com/repos/nhomyk/AgenticQA/actions/runs?per_page=5');
                
                if (!response.ok) {
                    // GitHub API returned error - use fallback mock data
                    console.warn(`GitHub API returned ${response.status}. Using fallback mock data.`);
                    displayMockPipelines();
                    return;
                }
                
                const data = await response.json();
                pipelinesList.innerHTML = '';

                if (data.workflow_runs && data.workflow_runs.length > 0) {
                    data.workflow_runs.forEach(run => {
                        const statusClass = run.conclusion === 'success' ? 'success' : 
                                          run.status === 'in_progress' ? 'running' : 'failed';
                        const statusText = run.status === 'in_progress' ? 'Running' : 
                                         (run.conclusion === 'success' ? 'Success' : 'Failed');
                        
                        const date = new Date(run.updated_at);
                        const timeAgo = getTimeAgo(date);
                        const commitMsg = run.head_commit?.message?.substring(0, 50) || 'No commit message';

                        const pipelineEl = document.createElement('div');
                        pipelineEl.className = 'pipeline-item';
                        pipelineEl.innerHTML = `
                            <div class="pipeline-status ${statusClass}"></div>
                            <div class="pipeline-info">
                                <div class="pipeline-name">#${run.run_number} - ${run.name}</div>
                                <div class="pipeline-meta">${statusText} ‚Ä¢ ${run.head_branch} ‚Ä¢ ${commitMsg}</div>
                            </div>
                            <div class="pipeline-time">${timeAgo}</div>
                        `;
                        pipelinesList.appendChild(pipelineEl);
                    });
                } else {
                    pipelinesList.innerHTML = '<div style="text-align: center; color: #a5b4fc; padding: 2rem;">No recent pipelines found. Run a pipeline to see it here.</div>';
                }
            } catch (error) {
                console.error('Error loading pipelines:', error);
                displayMockPipelines();
            }
        }

        // Display mock/fallback pipeline data when API fails
        function displayMockPipelines() {
            const pipelinesList = document.getElementById('pipelinesList');
            const mockPipelines = [
                { run_number: 142, name: 'Full CI/CD with Safeguards', status: 'success', branch: 'main', message: 'feat: add enterprise safeguards', time: '2 minutes ago' },
                { run_number: 141, name: 'Full CI/CD with Safeguards', status: 'success', branch: 'main', message: 'docs: update dashboard with safeguards', time: '15 minutes ago' },
                { run_number: 140, name: 'Tests Only', status: 'success', branch: 'main', message: 'fix: improve pipeline error handling', time: '1 hour ago' },
                { run_number: 139, name: 'Security Scan', status: 'success', branch: 'develop', message: 'refactor: consolidate workflows', time: '3 hours ago' },
                { run_number: 138, name: 'Full CI/CD with Safeguards', status: 'failed', branch: 'feature/new-agent', message: 'WIP: experimental agent feature', time: '6 hours ago' }
            ];

            pipelinesList.innerHTML = '';
            mockPipelines.forEach(pipeline => {
                const statusClass = pipeline.status === 'success' ? 'success' : 'failed';
                const pipelineEl = document.createElement('div');
                pipelineEl.className = 'pipeline-item';
                pipelineEl.innerHTML = `
                    <div class="pipeline-status ${statusClass}"></div>
                    <div class="pipeline-info">
                        <div class="pipeline-name">#${pipeline.run_number} - ${pipeline.name}</div>
                        <div class="pipeline-meta">${pipeline.status === 'success' ? 'Success' : 'Failed'} ‚Ä¢ ${pipeline.branch} ‚Ä¢ ${pipeline.message}</div>
                    </div>
                    <div class="pipeline-time">${pipeline.time}</div>
                `;
                pipelinesList.appendChild(pipelineEl);
            });

            // Add notice that this is fallback data
            const notice = document.createElement('div');
            notice.style.cssText = 'text-align: center; color: #a5b4fc; font-size: 0.8rem; padding: 1rem; margin-top: 1rem; border-top: 1px solid rgba(102, 126, 234, 0.2);';
            notice.innerHTML = '‚ÑπÔ∏è Showing sample pipeline data (GitHub API unavailable)';
            pipelinesList.parentElement.appendChild(notice);
        }

        // Format time ago
        function getTimeAgo(date) {
            const now = new Date();
            const seconds = Math.floor((now - date) / 1000);
            
            if (seconds < 60) return 'just now';
            const minutes = Math.floor(seconds / 60);
            if (minutes < 60) return `${minutes}m ago`;
            const hours = Math.floor(minutes / 60);
            if (hours < 24) return `${hours}h ago`;
            const days = Math.floor(hours / 24);
            return `${days}d ago`;
        }

        // Update agent info
        function updateAgentInfo() {
            const agents = {
                sdet: { name: 'üß™ SDET Agent', health: '‚úÖ Excellent', activity: '2 minutes ago' },
                fullstack: { name: 'üöÄ Fullstack Agent', health: '‚úÖ Excellent', activity: '5 minutes ago' },
                compliance: { name: '‚úÖ Compliance Agent', health: '‚úÖ Excellent', activity: '1 minute ago' },
                sre: { name: 'üîß SRE Agent', health: '‚úÖ Excellent', activity: '3 minutes ago' },
                safeguards: { name: 'üõ°Ô∏è Safeguards Agent', health: '‚úÖ Excellent', activity: '5 seconds ago' }
            };
            
            const selected = document.getElementById('agentSelect').value;
            const agent = agents[selected];
            
            document.querySelector('.agent-name').textContent = agent.name;
            document.getElementById('agentHealth').textContent = agent.health;
            document.getElementById('lastActivity').textContent = agent.activity;
        }

        // Query agent
        async function queryAgent() {
            const query = document.getElementById('agentQuery').value;
            if (!query.trim()) return;

            const agent = document.getElementById('agentSelect').value;
            const responsePanel = document.getElementById('responsePanel');
            const responseContent = document.getElementById('responseContent');

            responseContent.innerHTML = '<div class="loading"></div> Processing query...';
            responsePanel.classList.add('active');

            try {
                // Simulate agent response with realistic outputs
                const responses = {
                    health: `Agent Health Report:\n‚Ä¢ CPU Usage: 12%\n‚Ä¢ Memory: 245MB/2GB\n‚Ä¢ Uptime: 99.8%\n‚Ä¢ Last Error: None\n‚úÖ All systems operational`,
                    coverage: `Test Coverage Analysis:\n‚Ä¢ Unit Tests: 95% coverage\n‚Ä¢ E2E Tests: 87% coverage\n‚Ä¢ Integration: 91% coverage\n‚Ä¢ Overall: 95% (up from 93%)\nüéØ Target: 95% (ACHIEVED)`,
                    compliance: `Compliance Audit Results:\n‚Ä¢ WCAG 2.1 AA: ‚úÖ Pass\n‚Ä¢ Security Checks: ‚úÖ 175/175 Pass\n‚Ä¢ Code Quality: A+\n‚Ä¢ Performance: Excellent\n‚úÖ Fully Compliant`,
                    accessibility: `Accessibility Report:\n‚Ä¢ WCAG 2.1 Level AA\n‚Ä¢ 0 Critical Issues\n‚Ä¢ 0 Major Issues\n‚Ä¢ 2 Minor Suggestions\n‚úÖ Production Ready`
                };

                // Determine response type from query
                let responseType = 'health';
                if (query.toLowerCase().includes('coverage')) responseType = 'coverage';
                if (query.toLowerCase().includes('compliance')) responseType = 'compliance';
                if (query.toLowerCase().includes('accessibility')) responseType = 'accessibility';

                await new Promise(resolve => setTimeout(resolve, 800));
                responseContent.innerHTML = responses[responseType] || 'Query processed by ' + agent + ' agent.';
                
                showAlert('Query sent to ' + agent + ' agent successfully!', 'success');
            } catch (error) {
                responseContent.innerHTML = 'Error processing query: ' + error.message;
                showAlert('Error querying agent', 'error');
            }
        }

        // Quick query shortcuts
        function quickQuery(type) {
            const queries = {
                health: 'Run a health check',
                coverage: 'What is our current test coverage?',
                compliance: 'Show compliance audit results',
                safeguards: 'Show safeguards status and audit trail summary'
            };
            
            document.getElementById('agentQuery').value = queries[type];
            queryAgent();
        }

        // Load available branches on page load
        async function loadAvailableBranches() {
            try {
                const response = await fetch('/api/github/branches', {
                    method: 'GET',
                    headers: { 'Content-Type': 'application/json' }
                });
                const data = await response.json();
                
                if (data.branches && Array.isArray(data.branches)) {
                    const branchSelect = document.getElementById('pipelineBranch');
                    const currentValue = branchSelect.value;
                    branchSelect.innerHTML = '';
                    
                    data.branches.forEach(branch => {
                        const option = document.createElement('option');
                        option.value = branch.name;
                        option.textContent = branch.name + (branch.protected ? ' (protected)' : '');
                        branchSelect.appendChild(option);
                    });
                    
                    // Set back to current value if it still exists
                    if (data.branches.some(b => b.name === currentValue)) {
                        branchSelect.value = currentValue;
                    } else {
                        branchSelect.value = data.branches[0]?.name || 'main';
                    }
                }
            } catch (error) {
                console.error('Failed to load branches:', error);
            }
        }

        // Show warning modal for main branch
        function showMainBranchWarning(onConfirm, onCancel) {
            const modal = document.createElement('div');
            modal.className = 'modal';
            modal.style.display = 'flex';
            modal.innerHTML = `
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>‚ö†Ô∏è Main Branch Warning</h2>
                        <button class="modal-close">&times;</button>
                    </div>
                    <div class="modal-body">
                        <p><strong>You are about to trigger a pipeline on the main branch.</strong></p>
                        <p>This will deploy to production. Please ensure:</p>
                        <ul style="margin: 1rem 0; text-align: left;">
                            <li>‚úì All tests are passing</li>
                            <li>‚úì Code has been reviewed</li>
                            <li>‚úì Changes are production-ready</li>
                        </ul>
                        <p style="color: #fbbf24;">Are you sure you want to continue?</p>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-secondary" data-action="cancel">Cancel</button>
                        <button class="btn btn-danger" data-action="confirm">Yes, Deploy to Main</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            
            // Add event listeners
            modal.querySelector('[data-action="cancel"]').addEventListener('click', () => {
                modal.remove();
                onCancel();
            });
            
            modal.querySelector('[data-action="confirm"]').addEventListener('click', () => {
                modal.remove();
                onConfirm();
            });
            
            modal.querySelector('.modal-close').addEventListener('click', () => {
                modal.remove();
                onCancel();
            });
        }

        // Check GitHub connection before launching pipeline
        async function checkGitHubConnectionBefore() {
            try {
                const response = await fetch('/api/github/status', {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });

                const data = await response.json();
                console.debug('[GitHub Connection Check]', { status: data.status, response: data });
                return data.status === 'connected';
            } catch (error) {
                console.error('[GitHub Connection Check Error]', error);
                return false;
            }
        }

        // Build pipeline name from type
        function getPipelineNameFromType(type) {
            const typeNames = {
                'full': 'Full CI/CD Pipeline',
                'tests': 'Test Suite',
                'security': 'Security Scan',
                'accessibility': 'Accessibility Check',
                'compliance': 'Compliance Audit',
                'safeguards': 'Safeguards Validation'
            };
            return typeNames[type] || 'Pipeline';
        }

        // Kickoff pipeline
        async function kickoffPipeline() {
            const pipelineType = document.getElementById('pipelineType').value;
            const branch = document.getElementById('pipelineBranch').value;
            const customName = document.getElementById('pipelineName').value.trim();
            const launchBtn = document.querySelector('.kickoff-section .btn-primary');

            // Build pipeline name: use custom if provided, otherwise use default with type
            const pipelineName = customName || `ü§ñ AgenticQA - ${getPipelineNameFromType(pipelineType)}`;

            console.log('[Pipeline Kickoff] Starting pipeline trigger', { pipelineType, branch, pipelineName });

            try {
                // Validate branch is selected
                if (!branch) {
                    showAlert('‚ùå Please select a branch.', 'error');
                    return;
                }

                // Check if GitHub is connected
                console.log('[Pipeline Kickoff] Checking GitHub connection...');
                const isConnected = await checkGitHubConnectionBefore();
                console.log('[Pipeline Kickoff] GitHub connection check result:', { isConnected });
                
                if (!isConnected) {
                    showAlert('‚ö†Ô∏è GitHub is not connected. Go to Settings to connect your GitHub account.', 'error');
                    return;
                }

                // Show warning for main branch
                if (branch === 'main') {
                    console.log('[Pipeline Kickoff] Main branch selected, showing warning...');
                    const confirmed = await new Promise((resolve) => {
                        showMainBranchWarning(() => resolve(true), () => resolve(false));
                    });
                    if (!confirmed) {
                        console.log('[Pipeline Kickoff] User cancelled main branch deployment');
                        return;
                    }
                }

                // Disable button during request
                launchBtn.disabled = true;
                launchBtn.textContent = '‚è≥ Launching...';

                // Call our backend API endpoint instead of GitHub API directly
                // This allows us to use authenticated requests securely
                console.log('[Pipeline Kickoff] Calling /api/trigger-workflow endpoint...');
                console.log('[Pipeline Kickoff] Request payload:', { pipelineType, branch, pipelineName });
                
                const response = await fetch('/api/trigger-workflow', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        pipelineType: pipelineType,
                        branch: branch,
                        pipelineName: pipelineName
                    })
                });

                // Re-enable button
                launchBtn.disabled = false;
                launchBtn.innerHTML = 'üöÄ Launch Pipeline';

                console.log('[Pipeline Kickoff] Response received', { status: response.status, ok: response.ok, statusText: response.statusText });
                const result = await response.json();
                console.log('[Pipeline Kickoff] Response body:', result);
                console.log('[Pipeline Kickoff] Full response details:', { status: response.status, ok: response.ok, result });

                if (response.ok && result.status === 'success') {
                    // Success response
                    console.log('[Pipeline Kickoff] ‚úÖ Pipeline triggered successfully!');
                    showAlert(`‚úÖ ${result.message}`, 'success');
                    
                    // Refresh pipelines after delay
                    await new Promise(resolve => setTimeout(resolve, 2000));
                    if (typeof loadRecentPipelines === 'function') {
                        loadRecentPipelines();
                    }
                } else if (response.status === 403) {
                    // Authentication issues
                    console.warn('[Pipeline Kickoff] ‚ö†Ô∏è Authentication failed');
                    showAlert(`‚ö†Ô∏è ${result.error}`, 'error');
                } else if (response.status === 404) {
                    // Workflow not found
                    console.warn('[Pipeline Kickoff] ‚ùå Workflow not found');
                    showAlert(`‚ùå ${result.error}`, 'error');
                } else if (response.status === 503) {
                    // Service unavailable (token not configured)
                    console.warn('[Pipeline Kickoff] ‚ö†Ô∏è Service unavailable - token not configured');
                    showAlert(`‚ö†Ô∏è ${result.error}. Check server logs for details.`, 'error');
                } else if (response.status === 400) {
                    // Validation error
                    console.warn('[Pipeline Kickoff] ‚ùå Validation error');
                    showAlert(`‚ùå ${result.error}`, 'error');
                } else {
                    // Other errors
                    console.error('[Pipeline Kickoff] ‚ùå Unexpected error', { status: response.status, result, response });
                    showAlert(`‚ùå Error: ${result.error || `Request failed with status ${response.status}`}`, 'error');
                }
            } catch (error) {
                launchBtn.disabled = false;
                launchBtn.innerHTML = 'üöÄ Launch Pipeline';
                console.error('[Pipeline Kickoff] ‚ùå Exception occurred:', error);
                console.error('[Pipeline Kickoff] Full error details:', { message: error.message, stack: error.stack, error });
                showAlert(`‚ùå Error kicking off pipeline: ${error.message}`, 'error');
            }
        }

        // Show alerts
        function showAlert(message, type) {
            const alertEl = document.getElementById(type === 'success' ? 'successAlert' : 'errorAlert');
            alertEl.textContent = message;
            alertEl.classList.add('show');
            
            setTimeout(() => {
                alertEl.classList.remove('show');
            }, 3000);
        }

        // Show notification tooltip
        function showNotification(title, message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 1rem 1.5rem;
                padding-top: 0.5rem;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
                z-index: 10000;
                max-width: 350px;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
                animation: slideIn 0.3s ease-out;
            `;

            // Create close button
            const closeBtn = document.createElement('button');
            closeBtn.textContent = '√ó';
            closeBtn.style.cssText = `
                position: absolute;
                top: 8px;
                right: 10px;
                background: none;
                border: none;
                color: white;
                font-size: 1.5rem;
                cursor: pointer;
                padding: 0;
                width: 24px;
                height: 24px;
                display: flex;
                align-items: center;
                justify-content: center;
                opacity: 0.8;
                transition: opacity 0.2s;
            `;
            closeBtn.onmouseover = () => closeBtn.style.opacity = '1';
            closeBtn.onmouseout = () => closeBtn.style.opacity = '0.8';
            closeBtn.onclick = (e) => {
                e.stopPropagation();
                clearTimeout(notification.autoCloseTimeout);
                notification.style.animation = 'slideOut 0.3s ease-in';
                setTimeout(() => notification.remove(), 300);
            };

            const titleEl = document.createElement('div');
            titleEl.style.cssText = `
                font-weight: 700;
                font-size: 0.95rem;
                margin-bottom: 0.35rem;
                letter-spacing: 0.3px;
            `;
            titleEl.textContent = title;

            const messageEl = document.createElement('div');
            messageEl.style.cssText = `
                font-size: 0.85rem;
                opacity: 0.95;
                line-height: 1.4;
            `;
            messageEl.textContent = message;

            notification.appendChild(closeBtn);
            notification.appendChild(titleEl);
            notification.appendChild(messageEl);
            document.body.appendChild(notification);

            // Add animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from {
                        transform: translateX(400px);
                        opacity: 0;
                    }
                    to {
                        transform: translateX(0);
                        opacity: 1;
                    }
                }
                @keyframes slideOut {
                    from {
                        transform: translateX(0);
                        opacity: 1;
                    }
                    to {
                        transform: translateX(400px);
                        opacity: 0;
                    }
                }
            `;
            document.head.appendChild(style);

            // Remove after 4 seconds
            notification.autoCloseTimeout = setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease-in';
                setTimeout(() => {
                    notification.remove();
                }, 300);
            }, 4000);
        }

        // Setup button event listeners after functions are defined
        document.getElementById('launchPipelineBtn')?.addEventListener('click', kickoffPipeline);
    </script>
</body>
</html>
